div.chatwrapper {
  div.button {
    z-index: 20;
    position: absolute;
    top: 0;
    left: 0;

    background-image: url(/content/UI.png);
    background-repeat: no-repeat;
    background-position-x: 0;
    background-position-y: calc(150px * -3);
    
    zoom: 0.3;
    -moz-transform: scale(.3);
    -moz-transform-origin: 0 0;
    
    width: calc(1050px / 7);
    height: calc(1050px / 7);
  }
  div.chat {
    position: absolute;
    z-index: 22;
    top: 50px;
    left: 10px;
    visibility: hidden;
    opacity: 0;
    transition: opacity .3s;
  
    width: 40vw;
    height: calc(100vh - 60px);
  
    background-color: rgba($color: (#fff), $alpha: .5);
    .messages {
      height: 80%;
      width: 100%;
      overflow-y: scroll;
  
      div {
        position: relative;
        min-width: 20%;
        max-width: 80%;
  
        padding: 10px;
        margin: 10px;
        box-sizing: border-box;
        background-color: #ddd;
  
        p {
          padding: 0;
          margin: 0;
          position: relative;
  
          span {
            position: absolute;
            right: 0;
          }
        }
        &.me {
          background-color: cornflowerblue;
          left: 92%; // scroll width
          transform: translateX(-100%);
        }
      }
    }
    textarea {
      height: 20%;
      width: 100%;
      border: none;
      box-sizing: border-box;
      background-color: rgba($color: (#fff), $alpha: .8);
  
      &:focus {
        outline: none;
      }
    }
  }

  &.selected > div.chat {
    opacity: 1;
    visibility: visible;
  }
}